!function(n){"use strict";if("object"==typeof module&&module&&"object"==typeof module.exports)module.exports=n();else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("Environment was not anticipated.");var t="undefined"!=typeof window?window:self,o=t.amp;t.amp=n(),t.amp.noConflict=function(){return t.amp=o,this}}}(function(){"use strict";function n(n){var o=[],e={};return n&&n.content&&(i(n.content["@graph"],function(n){e[n["@id"]]=n}),i(n.result,function(n){if(n["@id"]){var r=t({"@id":n["@id"]},e);r&&o.push(r)}})),o}function t(n,f){return i(r(n),function(t){var e=n[t];if("@id"===t){if(!f[e])return void o("Could not find corresponding content for id "+e);i(r(f[e]),function(t){n[t]=f[e][t]})}}),i(r(n),function(o){var r=n[o];null!==r&&"object"==typeof r?n[o]=t(n[o],f):e(r)&&i(r,function(e,r){n[o][r]=t(n[o][r],f)})}),n}var o=function(){console&&console.log(Array.prototype.slice.call(arguments))},e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},r=Object.keys||function(n){var t=[];for(var o in n)n.hasOwnProperty(o)&&t.push(o);return t},i=function(n,t,o){if(e(n))if(n.forEach)n.forEach(t,o);else for(var r=0,i=n.length;i>r;r++)t.call(o,n[r],r,n)};return{inlineContent:n}});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNtcy1qYXZhc2NyaXB0LXNkay5qcyJdLCJuYW1lcyI6WyJkZWZpbml0aW9uIiwibW9kdWxlIiwiZXhwb3J0cyIsIndpbmRvdyIsInNlbGYiLCJFcnJvciIsImdsb2JhbCIsInByZXZpb3VzQW1wIiwiYW1wIiwibm9Db25mbGljdCIsInRoaXMiLCJpbmxpbmVDb250ZW50IiwiZGVsaXZlcnkiLCJpbmxpbmVkQ29udGVudCIsImNvbnRlbnRLZXlNYXAiLCJjb250ZW50IiwiX2ZvckVhY2giLCJyZXN1bHQiLCJpbmxpbmVDaGlsZENvbnRlbnQiLCJAaWQiLCJwdXNoIiwicGFyZW50Tm9kZSIsIl9rZXlzIiwia2V5IiwidmFsdWUiLCJfbG9nIiwiY2hpbGRLZXkiLCJfaXNBcnJheSIsIml0ZW0iLCJpIiwiY29uc29sZSIsImxvZyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYXJndW1lbnRzIiwiaXNBcnJheSIsImFyZyIsIk9iamVjdCIsInRvU3RyaW5nIiwia2V5cyIsIm9iaiIsImsiLCJoYXNPd25Qcm9wZXJ0eSIsImFyciIsIml0ZXJhdG9yIiwiY29udGV4dCIsImZvckVhY2giLCJsZW4iLCJsZW5ndGgiXSwibWFwcGluZ3MiOiJDQUVBLFNBQVdBLEdBQ1AsWUFFQSxJQUFzQixnQkFBWEMsU0FBdUJBLFFBQW9DLGdCQUFuQkEsUUFBT0MsUUFDdERELE9BQU9DLFFBQVVGLFFBQ2QsQ0FBQSxHQUFzQixtQkFBWEcsU0FBMEMsbUJBQVRDLE1BVS9DLEtBQU0sSUFBSUMsT0FBTSxtQ0FUaEIsSUFBSUMsR0FBMkIsbUJBQVhILFFBQXlCQSxPQUFTQyxLQUVsREcsRUFBY0QsRUFBT0UsR0FDekJGLEdBQU9FLElBQU1SLElBQ2JNLEVBQU9FLElBQUlDLFdBQWEsV0FFcEIsTUFEQUgsR0FBT0UsSUFBTUQsRUFDTkcsUUFNaEIsV0FDQyxZQW9DQSxTQUFTQyxHQUFjQyxHQUNuQixHQUFJQyxNQUNBQyxJQW1CSixPQWpCSUYsSUFBWUEsRUFBU0csVUFDckJDLEVBQVNKLEVBQVNHLFFBQVEsVUFBVyxTQUFVQSxHQUMzQ0QsRUFBY0MsRUFBUSxRQUFVQSxJQUdwQ0MsRUFBU0osRUFBU0ssT0FBUSxTQUFVQSxHQUNoQyxHQUFLQSxFQUFPLE9BQVosQ0FJQSxHQUFJRixHQUFVRyxHQUFvQkMsTUFBT0YsRUFBTyxRQUFTSCxFQUNyREMsSUFDQUYsRUFBZU8sS0FBS0wsT0FLekJGLEVBR1gsUUFBU0ssR0FBbUJHLEVBQVlQLEdBeUJwQyxNQXhCQUUsR0FBU00sRUFBTUQsR0FBYSxTQUFVRSxHQUNsQyxHQUFJQyxHQUFRSCxFQUFXRSxFQUN2QixJQUFZLFFBQVJBLEVBQWUsQ0FDZixJQUFLVCxFQUFjVSxHQUVmLFdBREFDLEdBQUssK0NBQWlERCxFQUcxRFIsR0FBU00sRUFBTVIsRUFBY1UsSUFBUyxTQUFVRSxHQUM1Q0wsRUFBV0ssR0FBWVosRUFBY1UsR0FBT0UsUUFLeERWLEVBQVNNLEVBQU1ELEdBQWEsU0FBVUUsR0FDbEMsR0FBSUMsR0FBUUgsRUFBV0UsRUFDVCxRQUFWQyxHQUFtQyxnQkFBVkEsR0FDekJILEVBQVdFLEdBQU9MLEVBQW1CRyxFQUFXRSxHQUFNVCxHQUMvQ2EsRUFBU0gsSUFDaEJSLEVBQVNRLEVBQU8sU0FBVUksRUFBTUMsR0FDNUJSLEVBQVdFLEdBQUtNLEdBQUtYLEVBQW1CRyxFQUFXRSxHQUFLTSxHQUFJZixPQUtqRU8sRUFuRlgsR0FBSUksR0FBTyxXQUNISyxTQUNBQSxRQUFRQyxJQUFJQyxNQUFNQyxVQUFVQyxNQUFNQyxLQUFLQyxhQUkzQ1QsRUFBV0ssTUFBTUssU0FBVyxTQUFVQyxHQUN0QyxNQUErQyxtQkFBeENDLE9BQU9OLFVBQVVPLFNBQVNMLEtBQUtHLElBR3RDaEIsRUFBUWlCLE9BQU9FLE1BQVEsU0FBVUMsR0FDakMsR0FBSUQsS0FDSixLQUFLLEdBQUlFLEtBQUtELEdBQ05BLEVBQUlFLGVBQWVELElBQ25CRixFQUFLckIsS0FBS3VCLEVBR2xCLE9BQU9GLElBR1B6QixFQUFXLFNBQVU2QixFQUFLQyxFQUFVQyxHQUNwQyxHQUFLcEIsRUFBU2tCLEdBSWQsR0FBSUEsRUFBSUcsUUFDSkgsRUFBSUcsUUFBUUYsRUFBVUMsT0FFdEIsS0FBSyxHQUFJeEIsR0FBTSxFQUFHMEIsRUFBTUosRUFBSUssT0FBY0QsRUFBTjFCLEVBQVdBLElBQzNDdUIsRUFBU1gsS0FBS1ksRUFBU0YsRUFBSXRCLEdBQU1BLEVBQUtzQixHQXlEbEQsUUFDSWxDLGNBQWVBIiwiZmlsZSI6ImNtcy1qYXZhc2NyaXB0LXNkay5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKmdsb2JhbCB3aW5kb3cgc2VsZiovXHJcblxyXG4oZnVuY3Rpb24gKGRlZmluaXRpb24pIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGRlZmluaXRpb24oKTtcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgdmFyIGdsb2JhbCA9IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDogc2VsZjtcclxuXHJcbiAgICAgICAgdmFyIHByZXZpb3VzQW1wID0gZ2xvYmFsLmFtcDtcclxuICAgICAgICBnbG9iYWwuYW1wID0gZGVmaW5pdGlvbigpO1xyXG4gICAgICAgIGdsb2JhbC5hbXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZ2xvYmFsLmFtcCA9IHByZXZpb3VzQW1wO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICB9O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vudmlyb25tZW50IHdhcyBub3QgYW50aWNpcGF0ZWQuJyk7XHJcbiAgICB9XHJcblxyXG59KShmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIF9sb2cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGNvbnNvbGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7Ly8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IGZ1bmN0aW9uIChhcmcpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGFyZykgPT09ICdbb2JqZWN0IEFycmF5XSc7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBfa2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICB2YXIga2V5cyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGsgaW4gb2JqKSB7XHJcbiAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoaykpIHtcclxuICAgICAgICAgICAgICAgIGtleXMucHVzaChrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ga2V5cztcclxuICAgIH07XHJcblxyXG4gICAgdmFyIF9mb3JFYWNoID0gZnVuY3Rpb24gKGFyciwgaXRlcmF0b3IsIGNvbnRleHQpIHtcclxuICAgICAgICBpZiAoIV9pc0FycmF5KGFycikpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGFyci5mb3JFYWNoKSB7XHJcbiAgICAgICAgICAgIGFyci5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBrZXkgPCBsZW47IGtleSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIGFycltrZXldLCBrZXksIGFycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGlubGluZUNvbnRlbnQoZGVsaXZlcnkpIHtcclxuICAgICAgICB2YXIgaW5saW5lZENvbnRlbnQgPSBbXTtcclxuICAgICAgICB2YXIgY29udGVudEtleU1hcCA9IHt9O1xyXG5cclxuICAgICAgICBpZiAoZGVsaXZlcnkgJiYgZGVsaXZlcnkuY29udGVudCkge1xyXG4gICAgICAgICAgICBfZm9yRWFjaChkZWxpdmVyeS5jb250ZW50WydAZ3JhcGgnXSwgZnVuY3Rpb24gKGNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRLZXlNYXBbY29udGVudFsnQGlkJ11dID0gY29udGVudDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBfZm9yRWFjaChkZWxpdmVyeS5yZXN1bHQsIGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0WydAaWQnXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgY29udGVudCA9IGlubGluZUNoaWxkQ29udGVudCh7J0BpZCc6IHJlc3VsdFsnQGlkJ119LCBjb250ZW50S2V5TWFwKTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5saW5lZENvbnRlbnQucHVzaChjb250ZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaW5saW5lZENvbnRlbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5saW5lQ2hpbGRDb250ZW50KHBhcmVudE5vZGUsIGNvbnRlbnRLZXlNYXApIHtcclxuICAgICAgICBfZm9yRWFjaChfa2V5cyhwYXJlbnROb2RlKSwgZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJlbnROb2RlW2tleV07XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdAaWQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnRLZXlNYXBbdmFsdWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2xvZygnQ291bGQgbm90IGZpbmQgY29ycmVzcG9uZGluZyBjb250ZW50IGZvciBpZCAnICsgdmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIF9mb3JFYWNoKF9rZXlzKGNvbnRlbnRLZXlNYXBbdmFsdWVdKSwgZnVuY3Rpb24gKGNoaWxkS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZVtjaGlsZEtleV0gPSBjb250ZW50S2V5TWFwW3ZhbHVlXVtjaGlsZEtleV07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIF9mb3JFYWNoKF9rZXlzKHBhcmVudE5vZGUpLCBmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcmVudE5vZGVba2V5XTtcclxuICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgIHBhcmVudE5vZGVba2V5XSA9IGlubGluZUNoaWxkQ29udGVudChwYXJlbnROb2RlW2tleV0sIGNvbnRlbnRLZXlNYXApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKF9pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgX2ZvckVhY2godmFsdWUsIGZ1bmN0aW9uIChpdGVtLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50Tm9kZVtrZXldW2ldID0gaW5saW5lQ2hpbGRDb250ZW50KHBhcmVudE5vZGVba2V5XVtpXSwgY29udGVudEtleU1hcCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFyZW50Tm9kZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGlubGluZUNvbnRlbnQ6IGlubGluZUNvbnRlbnRcclxuICAgIH07XHJcbn0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
